<?xml version="1.0" encoding="iso-8859-1"?>

<root>
    <windowclass name="effect_builder">
        <!-- <softclose /> -->
        <frame>recordsheet</frame>
        <placement>
            <size width="480" height="370" />
        </placement>
        <sizelimits>
            <minimum width="480" height="370" />
            <dynamic />
        </sizelimits>
        <nodelete />
        <playercontrol />
        <tooltip control="name" />
        <sheetdata>
            <windowtitlebar name="title">
                <resource>effect_builder_title</resource>
            </windowtitlebar>

            <frame_effects name="contentframe" />

            <subwindow_record name="main">
                <class>effect_builder_main</class>
                <activate />
                <fastinit />
            </subwindow_record>

            <scrollbar_record>
                <target>main</target>
            </scrollbar_record>

            <resize_recordsheet />
            <close_recordsheet />
        </sheetdata>
    </windowclass>
    <windowclass name="effect_builder_main">
        <script file="windows/scripts/effect_builder.lua"/>
        <sheetdata>
            <anchor_column name="columnanchor" />

            <!-- Effect Name -->
            <label_column name="name_label">
                <static textres="effect_name_label" />
            </label_column>
            <string_column_full name="effect_name">
                <anchored>
                    <top parent="columnanchor" anchor="bottom" relation="relative" offset="7" />
                    <left offset="97" />
                    <right offset="-5" />
                </anchored>
                <sourceless />
                <script>
                    function onValueChanged()
                        window.updateEffectString()
                    end
                </script>
            </string_column_full>
            <!-- Effect Name -->

            <!-- Output -->
            <header_column name="output_label">
                <static textres="output_effect_label" />
                <center />
            </header_column>
            <string_column_output_effect name="output_effect">
            </string_column_output_effect>
            <!-- /Output -->

            <!-- Effects List -->
            <header_column name="header_effects">
                <static textres="header_effects_list" />
                <center />
            </header_column>
            <button_iedit name="effects_list_iedit">
                <anchored to="header_effects" position="insidetopright" offset="-5,0" />
                <target>effects_list</target>
            </button_iedit>
            <button_iadd name="effects_list_iadd">
                <anchored to="effects_list_iedit" position="lefthigh" offset="5,0" />
                <target>effects_list</target>
            </button_iadd>
            <list_text name="effects_list">
                <anchored>
                    <top parent="columnanchor" anchor="bottom" relation="relative" offset="7" />
                    <left />
                    <right />
                </anchored>
                <readonly />
                <sourceless />
                <class>effect_editor</class>
                <script>
                    function onListChanged()
                        -- Debug.chat("listChanged")
                        window.updateEffectString()
                    end
                    function onListRearranged(listchanged)
                        -- Debug.chat("listRearranged", listchanged)
                        -- window.updateEffectString()
                    end
                </script>
            </list_text>
            <!-- /Effects List -->
        </sheetdata>
    </windowclass>
</root>
